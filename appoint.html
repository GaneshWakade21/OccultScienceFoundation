<!DOCTYPE html>
<!-- Created By CodingLab - www.codinglabweb.com -->
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <!---<title> Responsive Registration Form | CodingLab </title>--->
    <link rel="stylesheet" href="appoint.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <div class="container">
        <div class="title"><u>Appointment Booking</u></div>
        <!-- <div class="title">Book Appointment</div> -->
        <div class="content">
            <form action="connectappoint.php" method="post">
                <div class="user-details">
                    <div class="input-box">
                        <span class="details">First Name</span>
                        <input type="text" placeholder="First Name" name="firstname" required>
                    </div>
                    <div class="input-box">
                        <span class="details">Middle Name</span>
                        <input type="text" placeholder="Middle Name" name="middlename" required>
                    </div>
                    <div class="input-box">
                        <span class="details">Last Name</span>
                        <input type="text" placeholder="Last Name" name="lastname" required>
                    </div>
                    <div class="input-box">
                        <span class="details">Father's Name</span>
                        <input type="text" placeholder="Father's Name" name="fathername" required>
                    </div>
                    <!-- onchange="ageCalculator()" -->
                    <div class="input-box">
                        <span class="details">Date of Birth</span>
                        <!-- <input id="dob" onchange="ageCalculator()" name="dob" type="date"
                            min="<?php echo date('Y-m-d', strtotime('-1 day')); ?>"> -->
                        <input id="dob" onchange="ageCalculator()" name="dob" type="date">
                    </div>
                    <div class="input-box" #agebox>
                        <!-- <div class="input-boxage"> -->
                        <span class="details">Age</span>
                        <input id="age" type="number" name="age" placeholder="Enter Your Age" required>
                        <!-- use disabled -->
                    </div>
                    <div class="input-box">
                        <span class="details">Time of Birth</span>
                        <input type="time" name="tob">
                        <!-- <input type="text" placeholder="Father's Name" required> -->
                    </div>


                    <div class="input-box">
                        <span class="details">Gender</span>
                        <!-- <input type="text" placeholder="Place of Birth" required> </input> -->
                        <select name="gender" placeholder="Select Gender">
                            <option name="gender" value="male">Male</option>
                            <option name="gender" value="female">Female</option>

                        </select>
                    </div>

                    <div class="input-box">
                        <span class="details">Birth Place</span>
                        <input type="text" name="birthpalce" placeholder="Place of Birth" required>
                    </div>

                    <div class="input-box">
                        <span class="details">Birth State</span>
                        <input type="text" name="birthstate" placeholder="Place of Birth" required>
                    </div>

                    <div class="input-box">
                        <span class="details">Phone Number</span>
                        <input type="text" name="phone" placeholder="Enter Your Number" required>
                    </div>
                    
                    <div class="input-box">
                        <span class="details">Email</span>
                        <input type="text" name="email" placeholder="Enter Your Email">
                    </div>
                    <!-- <div class="input-box">
                        <span class="details">Date of Appointment</span>
                        <input type="date">
                    </div> -->

                </div>


                <!-- clint can book slot after 2hr of time from the current time/clock  -->

                <div class="slot">
                    <div>
                        <span class="slotheading">Time Slot Booking</span>
                    </div>

                    <div class="slottime">
                        <div class="input-box">
                            <span class="details">Date of Appoint.</span>
                            <input type="date" id="doappoint" name="doappoint">
                        </div>



                        <!-- <div class="input-box1">
                            <span class="details">Time From</span>

                            <div class="timesel">
                                <input type="time" id="timefrom" name="timefrom" min="09:00" max="23:30" step="1800">

                            </div>

                        </div>
                        <div class="input-box1">
                            <span class="details">Time To</span>

                            <div class="timesel">
                                <input type='time' id='timeto' name='timeto' step='1800' min="09:30" max="24:00"
                                    onchange="displayalert()">
                            </div>
                        </div> -->

                        <!-- Time by select  -->

                        <div class="input-box">
                            <span class="details">Time From</span>

                            <!-- <input type="time" id="timefrom" name="timefrom" min="09:00" max="23:30" step="1800"> -->

                            <select onchange="durationCal()" id="timefrom" name="timefrom" placeholder="9:00 PM">
                                <option value="" disabled selected>Select</option>
                                <option value="09:00">9:00 AM</option>
                                <option value="09:30">9:30 AM</option>
                                <option value="10:00">10:00 AM</option>
                                <option value="10:30">10:30 AM</option>
                                <option value="11:00">11:00 AM</option>
                                <option value="11:30">11:30 AM</option>
                                <option value="12:00">12:00 PM</option>
                                <option value="12:30">12:30 PM</option>
                                <option value="13:00">1:00 PM</option>
                                <option value="13:30">1:30 PM</option>
                                <option value="14:00">2:00 PM</option>
                                <option value="14:30">2:30 PM</option>
                                <option value="15:00">3:00 PM</option>
                                <option value="15:30">3:30 PM</option>
                                <option value="16:00">4:00 PM</option>
                                <option value="16:30">4:30 PM</option>
                                <option value="17:00">5:00 PM</option>
                                <option value="17:30">5:30 PM</option>
                                <option value="18:00">6:00 PM</option>
                                <option value="18:30">6:30 PM</option>
                                <option value="19:00">7:00 PM</option>
                                <option value="19:30">7:30 PM</option>
                                <option value="20:00">8:00 PM</option>
                                <option value="20:30">8:30 PM</option>
                                <option value="21:00">9:00 PM</option>
                                <option value="21:30">9:30 PM</option>
                                <option value="22:00">10:00 PM</option>
                                <option value="22:30">10:30 PM</option>
                                <option value="23:00">11:00 PM</option>
                                <option value="23:30">11:30 PM</option>
                                <option value="24:00">12:00 PM</option>
                            </select>
                        </div>

                        <div class="input-box">
                            <span class="details">Time To</span>

                            <!-- <input type='time' id='timeto' name='timeto' value="09:30" step='600' min="09:30"
                                        max="24:00" onchange="displayalert()"> -->

                            <select onchange="durationCal()" id="timeto" name="timeto">
                                <option value="" disabled selected>Select</option>
                                <option value="09:00">9:00 AM</option>
                                <option value="09:30">9:30 AM</option>
                                <option value="10:00">10:00 AM</option>
                                <option value="10:30">10:30 AM</option>
                                <option value="11:00">11:00 AM</option>
                                <option value="11:30">11:30 AM</option>
                                <option value="12:00">12:00 PM</option>
                                <option value="12:30">12:30 PM</option>
                                <option value="13:00">1:00 PM</option>
                                <option value="13:30">1:30 PM</option>
                                <option value="14:00">2:00 PM</option>
                                <option value="14:30">2:30 PM</option>
                                <option value="15:00">3:00 PM</option>
                                <option value="15:30">3:30 PM</option>
                                <option value="16:00">4:00 PM</option>
                                <option value="16:30">4:30 PM</option>
                                <option value="17:00">5:00 PM</option>
                                <option value="17:30">5:30 PM</option>
                                <option value="18:00">6:00 PM</option>
                                <option value="18:30">6:30 PM</option>
                                <option value="19:00">7:00 PM</option>
                                <option value="19:30">7:30 PM</option>
                                <option value="20:00">8:00 PM</option>
                                <option value="20:30">8:30 PM</option>
                                <option value="21:00">9:00 PM</option>
                                <option value="21:30">9:30 PM</option>
                                <option value="22:00">10:00 PM</option>
                                <option value="22:30">10:30 PM</option>
                                <option value="23:00">11:00 PM</option>
                                <option value="23:30">11:30 PM</option>
                                <option value="24:00">12:00 PM</option>
                            </select>
                        </div>

                        <div class="input-box">
                            <span class="details">Total Duration</span>
                            <!-- Total Duration in Minutes -->
                            <input  value="" onchange="durationCal()" id="duration" type="text" name="totaldur"
                                placeholder="Total Duration">
                        </div>

                        <div class="input-box">
                            <span class="details">Fee</span>
                            <!-- Rs.500 per 30min -->
                            <input onchange="durationCal()" id="fee" type="text" name="fee" placeholder="Rs.500"
                                required>
                        </div>


                        <!-- <div class="input-boxno">
                            <span class="details">Total Duration</span>
                            <input  type="text" name="totaldur" placeholder="Total Duration" required>
                        </div>

                        <div class="input-boxno">
                            <span class="details">Fee</span>
                            <input  type="text" name="fee" placeholder="Rs.500" required>
                        </div> -->


                    </div>



                </div>




                <div class="query" name="query">
                    <span class="querytitle">Your Queries</span>
                    <div class="check">
                        <div class="option">
                            <label for="dot-1">Buisness</label>
                            <input type="checkbox" name="querytype[]" value="business" id="dot-1">
                        </div>

                        <div class="option">
                            <label for="dot-2">Investment</label>
                            <input type="checkbox" name="querytype[]" value="investment" id="dot-2">
                        </div>
                        <div class="option">
                            <label for="dot-3">Relationship</label>
                            <input type="checkbox" name="querytype[]" value="relationship" id="dot-3">
                        </div>
                        <div class="option">
                             <label for="dot-4">Health</label>
                            <input type="checkbox" name="querytype[]" value="health" id="dot-4">
                        </div>
                        <div class="option"> 
                            <label for="dot-5">Property</label>
                            <input type="checkbox" name="querytype[]" value="property" id="dot-5">
                        </div>
                        <div class="option">
                            <label for="dot-7">Marriage</label>
                            <input type="checkbox" name="querytype[]" value="marriage" id="dot-7">
                        </div>
                        <div class="option"> 
                            <label for="dot-6">Job</label>
                            <input type="checkbox" name="querytype[]" value="job" id="dot-6">
                        </div>
                        <div class="option"> 
                            <label for="dot-8">Transfer</label>
                            <input type="checkbox" name="querytype[]" value="transfer" id="dot-8">
                        </div>
                        <div class="option">
                            <label for="dot-12">Promotion</label>
                            <input type="checkbox" name="querytype[]" value="promotion" id="dot-12">
                        </div>
                        <div class="option">
                            <label for="dot-9">Pregnancy</label>
                            <input type="checkbox" name="querytype[]" value="pregnancy" id="dot-9">
                        </div>
                        <div class="option">
                            <label for="dot-10">Litigation</label>
                            <input type="checkbox" name="querytype[]" value="litigation" id="dot-10">
                        </div>
                        <div class="option">

                            <label for="dot-11">Foreign</label>
                            <input type="checkbox" name="querytype[]" value="foreigntravel" id="dot-11">
                        </div>


                    </div>

                </div>



                <div class="payments-details">
                    <div>
                        <span class="slotheading">Payment Details</span>
                    </div>
                    <div class="payments">
                        <div class="input-box">
                            <span class="details">UPI</span>
                            <select name="upi" placeholder="Select Payment Method">
                                <option value="upi">UPI</option>
                                <option value="gpay">GPay</option>
                                <option value="phonepay">PhonePay</option>
                                <option value="paytm">Paytm</option>
                            </select>
                        </div>

                        <div class="input-box">
                            <span class="details">UPI Numer</span>
                            <input type="text" name="upino" placeholder="Enter UPI Number" required>
                        </div>

                        <div class="input-box">
                            <span class="details">Amount Paid</span>
                            <input type="text" name="amount" placeholder="Enter Amount Paid" required>
                        </div>
                        <div class="input-box">
                            <span class="details">Transction Date</span>
                            <input type="date" name="transdate" required>
                        </div>
                        <div class="input-box">
                            <span class="details">Transction Time</span>
                            <input type="time" name="transtime" required>
                        </div>
                        <div class="input-box">
                            <!-- class name is changed from input-box to input-boxt  -->
                            <span class="details">Transction</span>
                            <input class="choose" name="translip" type="file"
                                accept="image/jpeg,image/gif,image/png,application/pdf,image/x-eps">
                        </div>

                    </div>
                </div>

                <div class="remark">
                    <div>
                        <span class="slotheading">Remarks</span>
                    </div>
                    <!-- <div class="input-box">
                        <input name="remark" type="text" placeholder="Your Message in 100 words..." required>
                    </div> -->

                    <div class="remark">
                        <textarea name="remark" id="" cols="130" rows="6" placeholder="Your Message in 100 words..."></textarea>
                    </div> 


                </div>

                <!-- Make the button size small  -->

                <div class="button">
                    <div class="btn">
                        <input type="submit" value="Register">
                    </div>
                </div>
            </form>
        </div>
    </div>





    <!-- <script>
        const timeInput = document.getElementById("time");
        timeInput.addEventListener("change", () => {
            const timeValue = timeInput.valueAsDate;
            const hours = timeValue.getHours();
            console.log(hours);
        });
    </script> -->

    <script>
        function ageCalculator() {
            console.log("fn is running");
            var userinput = document.getElementById("dob").value;
            var dob = new Date(userinput);
            console.log(dob);
            const now = new Date();
            const diff = Math.abs(now - dob);
            let age = Math.floor(diff / (1000 * 60 * 60 * 24 * 365));
            console.log(typeof (age));
            document.getElementById("age").value = age;
        }
    </script>

    <!-- Date of Birth CheckPoint -->
    <script>
        var yesterday = new Date(Date.now() - 86400000).toISOString().split('T')[0];
        document.getElementById("dob").setAttribute('max', yesterday); 
    </script>

    <!-- Date of Appoinment CheckPoint -->

    <!-- <input type="date" id="doappoint" name="doappoint"> -->

    <script>
        var today = new Date(Date.now()).toISOString().split('T')[0];
        var nextweek = new Date(Date.now() + 604800000).toISOString().split('T')[0];
        document.getElementById("doappoint").setAttribute('min', today); 
        document.getElementById("doappoint").setAttribute('max', nextweek); 
    </script>


    <!-- Select time after 2hours of current time  -->

    <!-- <input type=“time” id=“time” name=“time”> <script> var now = new Date(); var twoHoursLater = new Date(now.getTime() + 2 * 60 * 60 * 1000); var maxTime = twoHoursLater.toISOString().split(‘T’)1.slice(0,5); document.getElementById(“time”).setAttribute(‘max’, maxTime); </script> -->

    <!-- <script>
        var timefrom = getElementById(timefrom); // get current date and time
        timefrom.setMinutes(timefrom.getMinutes() + 30); // add 30 minutes
        var inputTime = document.querySelector('input[type="time"]'); // get input element
        inputTime.value = timefrom.toISOString().substr(11, 5);
    </script> -->


    <!-- <scripvalue -->


        <script>
            var timefrom = document.getElementById("timefrom");
            var timeto = document.getElementById("timeto");
    
            timefrom.addEventListener("change", function () {
                var selectedFromTime = timefrom.value;
                timeto.innerHTML = "";
    
                for (var i = 0; i < timefrom.options.length; i++) {
                    var option = timefrom.options[i];
    
                    if (option.value > selectedFromTime) {
                        timeto.appendChild(option.cloneNode(true));
                    }
                }

                timeto.innerHTML = "<option value='' disabled selected>Select</option>" + timeto.innerHTML;
    
                if (selectedFromTime === "24:00") {
                    timeto.innerHTML = "<option value='' selected>Not allowed</option>";
                }
            });
    
        </script>
    
    
        <script>
            function durationCal() {
                const timefrom = document.getElementById("timefrom").value;
                const timeto = document.getElementById("timeto").value;
                var fromTimeInMinutes = parseInt(timefrom.split(":")[0]) * 60 + parseInt(timefrom.split(":")[1]);
                var toTimeInMinutes = parseInt(timeto.split(":")[0]) * 60 + parseInt(timeto.split(":")[1]);
    
                var timeDifferenceInMinutes = toTimeInMinutes - fromTimeInMinutes;
                document.getElementById("duration").value = timeDifferenceInMinutes + " min";
                document.getElementById("fee").value = "Rs. " + timeDifferenceInMinutes * 500 / 30;
                console.log("Time difference in minutes: " + timeDifferenceInMinutes + "min");
            }
        </script>
</body>

</html>