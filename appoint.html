<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="appoint.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <div class="container">
        <div class="title">APPOINTMENT BOOKING</div>

        <div class="content">

            <form action="connectappoint.php" method="post">

                <div class="personal" id="personal">
                    <h3>Personal Details</h3>

                    <div class="user-details">

                        <div class="input-box">
                            <span class="details">First Name</span>
                            <input type="text" placeholder="First Name" name="firstname" required>
                        </div>
                        <div class="input-box">
                            <span class="details">Middle Name</span>
                            <input type="text" placeholder="Middle Name" name="middlename" required>
                        </div>
                        <div class="input-box">
                            <span class="details">Last Name</span>
                            <input type="text" placeholder="Last Name" name="lastname" required>
                        </div>
                        <div class="input-box">
                            <span class="details">Father's Name</span>
                            <input type="text" placeholder="Father's Name" name="fathername" required>
                        </div>
                        <div class="input-box">
                            <span class="details">Mother's Name</span>
                            <input type="text" placeholder="Mother's Name" name="mothername" required>
                        </div>
                        <div class="input-box">
                            <span class="details">Date of Birth</span>
                            <input id="dob" onchange="ageCalculator()" name="dob" type="date">
                        </div>
                        <div class="input-box" #agebox>
                            <span class="details">Age</span>
                            <input id="age" type="number" name="age" placeholder="Enter Age" required>
                        </div>

                        <div class="input-box">
                            <span class="details">Gender</span>
                            <select name="gender" placeholder="Select Gender">
                                <option name="gender" value="male">Male</option>
                                <option name="gender" value="female">Female</option>
                            </select>
                        </div>

                        <div class="input-box">
                            <span class="details">Time of Birth</span>
                            <input type="time" name="tob">
                        </div>

                        <div class="input-box">
                            <span class="details">City of Birth</span>
                            <input type="text" name="birthpalce" placeholder="Place of Birth" required>
                        </div>

                        <div class="input-box">
                            <span class="details">Birth State</span>
                            <select name="state" id="state">
                                <option value="">State</option>
                                <option value="Andhra Pradesh">Andhra Pradesh</option>
                                <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                                <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                <option value="Assam">Assam</option>
                                <option value="Bihar">Bihar</option>
                                <option value="Chandigarh">Chandigarh</option>
                                <option value="Chhattisgarh">Chhattisgarh</option>
                                <option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
                                <option value="Daman and Diu">Daman and Diu</option>
                                <option value="Delhi">Delhi</option>
                                <option value="Lakshadweep">Lakshadweep</option>
                                <option value="Puducherry">Puducherry</option>
                                <option value="Goa">Goa</option>
                                <option value="Gujarat">Gujarat</option>
                                <option value="Haryana">Haryana</option>
                                <option value="Himachal Pradesh">Himachal Pradesh</option>
                                <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                <option value="Jharkhand">Jharkhand</option>
                                <option value="Karnataka">Karnataka</option>
                                <option value="Kerala">Kerala</option>
                                <option value="Madhya Pradesh">Madhya Pradesh</option>
                                <option value="Maharashtra">Maharashtra</option>
                                <option value="Manipur">Manipur</option>
                                <option value="Meghalaya">Meghalaya</option>
                                <option value="Mizoram">Mizoram</option>
                                <option value="Nagaland">Nagaland</option>
                                <option value="Odisha">Odisha</option>
                                <option value="Punjab">Punjab</option>
                                <option value="Rajasthan">Rajasthan</option>
                                <option value="Sikkim">Sikkim</option>
                                <option value="Tamil Nadu">Tamil Nadu</option>
                                <option value="Telangana">Telangana</option>
                                <option value="Tripura">Tripura</option>
                                <option value="Uttar Pradesh">Uttar Pradesh</option>
                                <option value="Uttarakhand">Uttarakhand</option>
                                <option value="West Bengal">West Bengal</option>
                            </select>
                        </div>

                        <!-- <div class="input-box">
                            <span class="details">Country</span>
                            <input type="text" name="country" placeholder="Country" required>
                        </div> -->

                        <div class="input-box">
                            <span class="details">Email</span>
                            <input type="text" name="email" placeholder="Enter Your Email" required>
                        </div>
                        <div class="input-box">
                            <span class="details">Phone Number</span>
                            <input type="number" name="phone" placeholder="Phone No." required>
                        </div>

                    </div>  
                </div>

                <div class="nextprevbtn" id="page1">
                    <button class="none"></button>
                    <button  class="button-79" role="button" id="personalnext" onclick="changePersonaltoslot()">Next</button>
                </div>


                <div class="slot" id="slot">

                    <h3>Slot Booking</h3>

                    <div class="slottime">

                        <div class="timeset">

                            <div class="input-box">
                                <span class="details">Date</span>
                                <input type="date" id="doappoint" name="doappoint">
                            </div>

                            <div class="input-box">
                                <span class="details">Time From</span>

                                <!-- <input type="time" id="timefrom" name="timefrom" min="09:00" max="23:30" step="1800"> -->

                                <select onchange="durationCal()" id="fromTime" name="fromTime" placeholder="9:00 PM">
                                    <option value="" disabled selected>Select</option>
                                    <option value="09:00">9:00 AM</option>
                                    <option value="09:30">9:30 AM</option>
                                    <option value="10:00">10:00 AM</option>
                                    <option value="10:30">10:30 AM</option>
                                    <option value="11:00">11:00 AM</option>
                                    <option value="11:30">11:30 AM</option>
                                    <option value="12:00">12:00 PM</option>
                                    <option value="12:30">12:30 PM</option>
                                    <option value="13:00">1:00 PM</option>
                                    <option value="13:30">1:30 PM</option>
                                    <option value="14:00">2:00 PM</option>
                                    <option value="14:30">2:30 PM</option>
                                    <option value="15:00">3:00 PM</option>
                                    <option value="15:30">3:30 PM</option>
                                    <option value="16:00">4:00 PM</option>
                                    <option value="16:30">4:30 PM</option>
                                    <option value="17:00">5:00 PM</option>
                                    <option value="17:30">5:30 PM</option>
                                    <option value="18:00">6:00 PM</option>
                                    <option value="18:30">6:30 PM</option>
                                    <option value="19:00">7:00 PM</option>
                                    <option value="19:30">7:30 PM</option>
                                    <option value="20:00">8:00 PM</option>
                                    <option value="20:30">8:30 PM</option>
                                    <option value="21:00">9:00 PM</option>
                                    <option value="21:30">9:30 PM</option>
                                    <option value="22:00">10:00 PM</option>
                                    <option value="22:30">10:30 PM</option>
                                    <option value="23:00">11:00 PM</option>
                                    <option value="23:30">11:30 PM</option>
                                    <option value="24:00">12:00 PM</option>
                                </select>
                            </div>

                            <div class="input-box">
                                <span class="details">Time To</span>

                                <!-- <input type='time' id='timeto' name='timeto' value="09:30" step='600' min="09:30"
                                            max="24:00" onchange="displayalert()"> -->

                                <select onchange="durationCal()" id="toTime" name="toTime">
                                    <option value="" disabled selected>Select</option>
                                    <option value="09:00">9:00 AM</option>
                                    <option value="09:30">9:30 AM</option>
                                    <option value="10:00">10:00 AM</option>
                                    <option value="10:30">10:30 AM</option>
                                    <option value="11:00">11:00 AM</option>
                                    <option value="11:30">11:30 AM</option>
                                    <option value="12:00">12:00 PM</option>
                                    <option value="12:30">12:30 PM</option>
                                    <option value="13:00">1:00 PM</option>
                                    <option value="13:30">1:30 PM</option>
                                    <option value="14:00">2:00 PM</option>
                                    <option value="14:30">2:30 PM</option>
                                    <option value="15:00">3:00 PM</option>
                                    <option value="15:30">3:30 PM</option>
                                    <option value="16:00">4:00 PM</option>
                                    <option value="16:30">4:30 PM</option>
                                    <option value="17:00">5:00 PM</option>
                                    <option value="17:30">5:30 PM</option>
                                    <option value="18:00">6:00 PM</option>
                                    <option value="18:30">6:30 PM</option>
                                    <option value="19:00">7:00 PM</option>
                                    <option value="19:30">7:30 PM</option>
                                    <option value="20:00">8:00 PM</option>
                                    <option value="20:30">8:30 PM</option>
                                    <option value="21:00">9:00 PM</option>
                                    <option value="21:30">9:30 PM</option>
                                    <option value="22:00">10:00 PM</option>
                                    <option value="22:30">10:30 PM</option>
                                    <option value="23:00">11:00 PM</option>
                                    <option value="23:30">11:30 PM</option>
                                    <option value="24:00">12:00 PM</option>
                                </select>
                            </div>

                            <div class="input-box">
                                <span class="details">Total Duration</span>
                                <!-- Total Duration in Minutes -->
                                <input onchange="durationCal()" id="duration" type="text" name="totaldur"
                                    placeholder="Total Duration" required>
                            </div>

                            <div class="input-box">
                                <span class="details">Fee</span>
                                <!-- Rs.500 per 30min -->
                                <input onchange="durationCal()" id="fee" type="text" name="fee" placeholder="Rs.500"
                                    required>
                            </div>
                        </div>
                    </div>

                    <h3>Your Queries</h3>

                    <div class="query" name="query" id="query">

                        <div class="check">
                            <div class="option">
                                <label for="dot-1">Buisness</label>
                                <input type="checkbox" name="querytype[]" value="business" id="dot-1">
                            </div>

                            <div class="option">
                                <label for="dot-2">Investment</label>
                                <input type="checkbox" name="querytype[]" value="investment" id="dot-2">
                            </div>
                            <div class="option">
                                <label for="dot-3">Relationship</label>
                                <input type="checkbox" name="querytype[]" value="relationship" id="dot-3">
                            </div>
                            <div class="option">
                                <label for="dot-4">Health</label>
                                <input type="checkbox" name="querytype[]" value="health" id="dot-4">
                            </div>
                            <div class="option">
                                <label for="dot-5">Career</label>
                                <input type="checkbox" name="querytype[]" value="career" id="dot-5">
                            </div>
                            <div class="option">
                                <label for="dot-6">Job</label>
                                <input type="checkbox" name="querytype[]" value="job" id="dot-6">
                            </div>
                            <div class="option">
                                <label for="dot-7">Marriage</label>
                                <input type="checkbox" name="querytype[]" value="marriage" id="dot-7">
                            </div>
                            <div class="option">
                                <label for="dot-8">Transfer</label>
                                <input type="checkbox" name="querytype[]" value="transfer" id="dot-8">
                            </div>
                            <div class="option">
                                <label for="dot-9">Pregnancy</label>
                                <input type="checkbox" name="querytype[]" value="pregnancy" id="dot-9">
                            </div>
                            <div class="option">
                                <label for="dot-10">Litigation</label>
                                <input type="checkbox" name="querytype[]" value="litigation" id="dot-10">
                            </div>
                            <div class="option">

                                <label for="dot-11">Foreign</label>
                                <input type="checkbox" name="querytype[]" value="foreigntravel" id="dot-11">
                            </div>
                            <div class="option">
                                <label for="dot-12">Promotion</label>
                                <input type="checkbox" name="querytype[]" value="promotion" id="dot-12">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="nextprevbtn" id="page2">
                    <button class="button-79" role="button" onclick="changeslottopersonal()">Prev</button>
                    <button class="button-79" role="button" onclick="changeslottoPayment()">Next</button>
                </div>
                

                <div class="paymentRemark" id="paymentRemark">
                    <h3>Payment Details</h3>

                    <div class="payment">
                        <div class="input-box">
                            <span class="details">UPI</span>
                            <!-- <input type="text" placeholder="Place of Birth" required> </input> -->
                            <select name="upi" placeholder="Select Payment Method">
                                <option value="upi">UPI</option>
                                <option value="gpay">GPay</option>
                                <option value="phonepay">PhonePay</option>
                                <option value="paytm">Paytm</option>
                            </select>
                        </div>

                        <div class="input-box">
                            <span class="details">UPI Numer</span>
                            <input type="text" name="upino" placeholder="Enter UPI Number" required>
                        </div>

                        <div class="input-box">
                            <span class="details">Amount</span>
                            <input type="text" name="amount" placeholder="Enter Amount Paid" required>
                        </div>
                        <div class="input-box">
                            <!-- class name is changed from input-box to input-boxt  -->
                            <span class="details">Transction</span>
                            <input class="choose" name="translip" type="file"
                                accept="image/jpeg,image/gif,image/png,application/pdf,image/x-eps">
                        </div>
                    </div>

                    <h3>Remarks</h3>

                    <div class="remark">
                        <textarea name="" id="" cols="30" rows="6"></textarea>
                    </div>  
                </div>

                <div class="nextprevbtn" id="page3">
                    <button  class="button-79" role="button" onclick="changepaymenttoslot()">Prev</button>
                    <button class="button-79" role="button" type="submit">Submit</button>
                </div>


                <!-- Make the button size small  -->

            </form>
        </div>
    </div>


    <script>
        function ageCalculator() {
            console.log("fn is running");
            var userinput = document.getElementById("dob").value;
            var dob = new Date(userinput);
            console.log(dob);
            const now = new Date();
            const diff = Math.abs(now - dob);
            let age = Math.floor(diff / (1000 * 60 * 60 * 24 * 365));
            console.log(typeof (age));
            document.getElementById("age").value = age;
        }
    </script>

    <!-- Date of Birth CheckPoint -->
    <script>
        var yesterday = new Date(Date.now() - 86400000).toISOString().split('T')[0];
        document.getElementById("dob").setAttribute('max', yesterday); 
    </script>


    <!-- Date of Appoinment CheckPoint -->
    <script>
        var today = new Date(Date.now()).toISOString().split('T')[0];
        var nextweek = new Date(Date.now() + 604800000).toISOString().split('T')[0];
        document.getElementById("doappoint").setAttribute('min', today); 
        document.getElementById("doappoint").setAttribute('max', nextweek); 
    </script>


    <script>
        function changePersonaltoslot() {
            document.getElementById('personal').style.display = "none";
            document.getElementById('page1').style.display = "none";
            document.getElementById('slot').style.display = "block";
            document.getElementById('query').style.display = "block";
            document.getElementById('page2').style.display = "flex";
        }

        function changeslottopersonal() {
            document.getElementById('slot').style.display = "none";
            document.getElementById('page2').style.display = "none";
            document.getElementById('personal').style.display = "block";
            document.getElementById('page1').style.display = "flex";
        }

        function changeslottoPayment() {
            document.getElementById('page2').style.display = "none";
            document.getElementById('slot').style.display = "none";
            document.getElementById('page3').style.display = "flex";
            document.getElementById('paymentRemark').style.display = "block";
        }

        function changepaymenttoslot() {
            document.getElementById('page2').style.display = "flex";
            document.getElementById('slot').style.display = "block";
            document.getElementById('paymentRemark').style.display = "none";
            document.getElementById('page3').style.display = "none";

        }
    </script>

    <script>
        var fromTime = document.getElementById("fromTime");
        var toTime = document.getElementById("toTime");

        fromTime.addEventListener("change", function () {
            var selectedFromTime = fromTime.value;
            toTime.innerHTML = "";

            for (var i = 0; i < fromTime.options.length; i++) {
                var option = fromTime.options[i];

                if (option.value > selectedFromTime) {
                    toTime.appendChild(option.cloneNode(true));
                }
            }

            if (selectedFromTime === "24:00") {
                toTime.innerHTML = "<option value='' selected>Not allowed</option>";
            }
        });

    </script>


    <script>
        function durationCal() {
            const fromTime = document.getElementById("fromTime").value;
            const toTime = document.getElementById("toTime").value;
            var fromTimeInMinutes = parseInt(fromTime.split(":")[0]) * 60 + parseInt(fromTime.split(":")[1]);
            var toTimeInMinutes = parseInt(toTime.split(":")[0]) * 60 + parseInt(toTime.split(":")[1]);

            var timeDifferenceInMinutes = toTimeInMinutes - fromTimeInMinutes;
            document.getElementById("duration").value = timeDifferenceInMinutes + " min";
            document.getElementById("fee").value = "Rs. " + timeDifferenceInMinutes * 500 / 30;
            console.log("Time difference in minutes: " + timeDifferenceInMinutes + "min");
        }
    </script>

</body>

</html>
